---
import { getFoundraisingProgress } from '@data/real/fundraising';

import FundraisingInfo from './FundraisingInfo.svelte';
import FundraisingProgress from './FundraisingProgress.svelte';
import SupportForm from './SupportForm.svelte';

const foundraisingProgress = await getFoundraisingProgress();
---

<section class="py-8 lg:py-12" data-testid="supporting-members">
  <div class="mx-auto max-w-[80rem] px-4 lg:px-20">
    <h2 class="font-serif text-2xl font-bold lg:text-4xl">Werde Fördermitglied</h2>
    <p class="mt-3 font-serif text-xl font-bold lg:mt-2 lg:text-2xl">
      Deine Chance, junge Menschen zu unterstützen!
    </p>
    <div class="py-8">
      <FundraisingProgress
        client:load
        middleProgress={965}
        peopleCount={foundraisingProgress.count}
        progress={foundraisingProgress.amount}
        targetProgress={1325}
      />
    </div>
    <div class="mt-10 flex items-center justify-center lg:mt-14 lg:block lg:px-16">
      <SupportForm client:load />
    </div>
    <div class="mt-6 flex items-center justify-center lg:mt-8 lg:px-16 lg:text-xl">
      <FundraisingInfo client:load />
    </div>
  </div>
</section>
